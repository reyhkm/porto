<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portofolio - Reykal</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'dark-bg': '#111827',
                        'dark-secondary': '#1f2937',
                        'text-light': '#f0fdfa',
                        'text-gray': '#9ca3af',
                        'accent': '#2dd4bf',
                        'accent-dark': '#0d9488'
                    },
                    fontFamily: {
                        serif: ['DM Serif Display', 'serif'],
                        sans: ['Plus Jakarta Sans', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <!-- Lightbox2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/all.css" />

    <style>
        /* --- General Artistic & Typographic Styles --- */
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            color: #d1d5db; /* Softer text color */
        }

        h1, h2, h3, .font-serif {
            font-family: 'DM Serif Display', serif;
            letter-spacing: 0.02em;
            font-weight: 400;
            color: #f0fdfa;
        }

        .section-title {
            font-size: 2.5rem; /* 40px */
            position: relative;
            display: inline-block;
            padding-bottom: 0.75rem;
        }
        @media (min-width: 768px) {
            .section-title {
                font-size: 3rem; /* 48px */
            }
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background-color: #2dd4bf; /* accent */
        }

        /* --- Navbar --- */
        .navbar {
            background-color: transparent;
            backdrop-filter: none;
            box-shadow: none;
        }
        .navbar-scrolled {
            background-color: rgba(17, 24, 39, 0.85); /* dark-bg with opacity */
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #1f2937;
        }
        .navbar a {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* --- Hero Section --- */
        #hero h1 {
            font-size: 4rem; /* 64px */
            letter-spacing: 0.05em;
        }
        @media (min-width: 768px) {
            #hero h1 {
                font-size: 6rem; /* 96px */
            }
        }
        #hero p {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: #9ca3af;
        }
        .btn-outline {
            background-color: transparent;
            border: 2px solid #2dd4bf;
            color: #2dd4bf;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }
        .btn-outline:hover {
            background-color: #2dd4bf;
            color: #111827;
        }

        /* --- About Section --- */
        #about p {
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
            font-size: 1.125rem;
        }

        /* --- Projects Section --- */
        #project-card .project-card-overlay {
            background: rgba(17, 24, 39, 0.9);
            opacity: 0;
            transition: opacity 0.4s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
        }
        #project-card.group:hover .project-card-overlay {
            opacity: 1;
        }
        #project-card .project-card-overlay h3,
        #project-card .project-card-overlay p {
            transform: translateY(20px);
            transition: transform 0.4s ease 0.1s, opacity 0.4s ease 0.1s;
            opacity: 0;
        }
        #project-card.group:hover .project-card-overlay h3,
        #project-card.group:hover .project-card-overlay p {
            transform: translateY(0);
            opacity: 1;
        }

        /* --- Skills Section --- */
        #skills .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem 4rem;
            max-width: 768px;
            margin: 0 auto;
            text-align: left;
        }
        #skills .skill-item {
            font-size: 1.5rem;
            font-family: 'DM Serif Display', serif;
            letter-spacing: 0.05em;
            border-left: 2px solid #2dd4bf;
            padding-left: 1.5rem;
            color: #f0fdfa;
        }

        /* --- Contact Section --- */
        #contact label {
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.8rem;
        }
        #contact input, #contact textarea {
            background-color: transparent;
            border: none;
            border-bottom: 1px solid #374151;
            border-radius: 0;
            padding-left: 0;
            padding-bottom: 0.5rem;
            transition: border-color 0.3s ease;
        }
        #contact input:focus, #contact textarea:focus {
            outline: none;
            box-shadow: none;
            --tw-ring-color: transparent; /* remove tailwind ring */
            border-bottom-color: #2dd4bf;
        }
        #contact button {
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        /* --- Footer --- */
        footer {
            background-color: #1f2937;
            padding: 40px 0;
            border-top: 1px solid #374151;
        }

        /* --- Chat Widget & Modal (Existing Styles) --- */
        .chat-modal, .modal-content { background-color: #111827; border: 1px solid #1f2937; }
        .chat-header, .chat-footer { background-color: #1f2937; }
        .chat-header span { font-family: 'DM Serif Display', serif; }
        .chat-toggle { animation: heartbeat 2.0s infinite; }
        @keyframes heartbeat { 0%, 50%, 100% { transform: scale(1); } 25%, 75% { transform: scale(1.1); } }
        .chat-message.bot .loading span { display: inline-block; margin: 0 2px; animation: dot-bounce 1.2s infinite ease-in-out; }
        .chat-message.bot .loading span:nth-child(1) { animation-delay: 0s; }
        .chat-message.bot .loading span:nth-child(2) { animation-delay: 0.2s; }
        .chat-message.bot .loading span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes dot-bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0, 0, 0, 0.7); }
        .modal-content { margin: 5% auto; padding: 20px; width: 90%; max-width: 700px; border-radius: 10px; position: relative; }
        .modal-close { position: absolute; top: 10px; right: 15px; font-size: 24px; background: transparent; border: none; color: #f0fdfa; cursor: pointer; }
        .modal-image-container { display: grid; grid-template-columns: 1fr; gap: 15px; margin-bottom: 15px; }
        .modal-image-container img { width: 100%; height: auto; object-fit: cover; border-radius: 5px; }
        @media (min-width: 1024px) { .modal-image-container img { max-width: 400px; margin: 0 auto; } }
        .half-image-container { max-height: 300px; overflow: hidden; position: relative; transition: max-height 0.3s ease; }
        .full-image-container { transition: opacity 0.3s ease; }
        #notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-20px); background-color: #2dd4bf; color: #111827; padding: 10px 20px; border-radius: 5px; font-family: 'Plus Jakarta Sans', sans-serif; font-size: 16px; opacity: 0; z-index: 1000; transition: opacity 0.5s ease, transform 0.5s ease; }
        #notification.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .chat-modal{position:fixed;bottom:80px;right:20px;width:350px;max-width:90%;border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.5);display:none;flex-direction:column;z-index:1000}.chat-header{padding:15px;border-top-left-radius:10px;border-top-right-radius:10px;font-size:18px;font-weight:600;color:#f0fdfa;display:flex;justify-content:space-between;align-items:center}.chat-header span{margin-right:auto}.chat-body{padding:15px;height:400px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}.chat-body::-webkit-scrollbar{width:8px;background-color:#1f2937}.chat-body::-webkit-scrollbar-thumb{background-color:#374151;border-radius:4px}.chat-body::-webkit-scrollbar-thumb:hover{background-color:#555}.chat-body{scrollbar-width:thin;scrollbar-color:#374151 #1f2937}.chat-footer{padding:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px;display:flex;gap:10px}.chat-input{flex-grow:1;padding:10px;border-radius:5px;border:none;font-size:14px;background-color:#1f2937;color:#f0fdfa}.chat-input:focus{outline:none;box-shadow:0 0 0 2px #2dd4bf}.chat-send{background-color:#2dd4bf;border:none;color:#111827;padding:10px 15px;border-radius:5px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.chat-send:hover{background-color:#0d9488}.chat-send:disabled{background-color:#9ca3af;cursor:not-allowed}.chat-message{padding:8px 12px;border-radius:10px;font-size:14px;word-break:break-word;max-width:80%;font-family:'Plus Jakarta Sans',sans-serif;line-height:1.5}.chat-message.user{background-color:#fff;color:#111827;align-self:flex-end;border-bottom-right-radius:2px}.chat-message.bot{background-color:#2dd4bf;color:#111827;align-self:flex-start;border-bottom-left-radius:2px}.chat-message.bot ul,.chat-message.bot ol{list-style-position:inside;padding-left:0;margin-left:0;margin-bottom:0}.chat-toggle{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background-color:#2dd4bf;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;z-index:1000;box-shadow:0 4px 6px rgba(0,0,0,.3);transition:background-color .2s ease}.chat-toggle:hover{background-color:#0d9488}.chat-toggle svg{width:24px;height:24px;transition:transform .2s ease}.chat-toggle:hover svg{transform:scale(1.1)}#chat-close{background:0 0;border:none;color:#f0fdfa;cursor:pointer;font-size:1.2rem;opacity:.7;transition:opacity .2s ease}#chat-close:hover{opacity:1}
        .social-links{margin-top:10px;display:flex;gap:15px}.social-icon{font-size:24px;color:#fff;transition:transform .3s ease-in-out,color .3s}.social-icon:hover{transform:scale(1.2)}.social-icon:nth-child(1):hover{color:#0077b5}.social-icon:nth-child(2):hover{color:#E4405F}
    </style>
</head>

<body class="bg-dark-bg text-text-light font-sans">

    <!-- Navbar -->
    <nav class="navbar fixed w-full z-40 transition-all duration-300">
        <div class="container mx-auto flex items-center justify-between p-4">
            <a href="#" class="flex items-center text-2xl font-bold text-accent">
                <svg width="40" height="40" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 10 C 18 8, 25 6, 35 10 C 45 14, 48 22, 45 30 C 42 38, 35 44, 25 45 C 20 45.5, 15 44, 12 40 L 18 35" stroke="#2dd4bf" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M20 45 L 40 55" stroke="#2dd4bf" stroke-width="5" stroke-linecap="round" />
                </svg>
            </a>
            <div class="md:hidden">
                <button id="mobile-menu-btn" class="text-accent focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
            <ul id="nav-menu" class="hidden md:flex space-x-8">
                <li><a href="#about" class="hover:text-accent transition-colors">Tentang Saya</a></li>
                <li><a href="#projects" class="hover:text-accent transition-colors">Proyek</a></li>
                <li><a href="#skills" class="hover:text-accent transition-colors">Keterampilan</a></li>
                <li><a href="#contact" class="hover:text-accent transition-colors">Kontak</a></li>
            </ul>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-dark-bg">
            <ul class="flex flex-col space-y-4 p-4">
                <li><a href="#about" class="hover:text-accent transition-colors">Tentang Saya</a></li>
                <li><a href="#projects" class="hover:text-accent transition-colors">Proyek</a></li>
                <li><a href="#skills" class="hover:text-accent transition-colors">Keterampilan</a></li>
                <li><a href="#contact" class="hover:text-accent transition-colors">Kontak</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="relative h-screen flex items-center justify-center text-center">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('placeholder-hero-bg.jpg'); filter: brightness(0.5);"></div>
        <div class="relative z-10 px-4">
            <h1 class="mb-4">Reykal</h1>
            <p class="text-lg md:text-xl mb-10">Pengembang AI & Machine Learning</p>
            <a href="#projects" class="btn-outline inline-block px-10 py-3 rounded-full">
                Lihat Proyek
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 md:py-32">
        <div class="container mx-auto px-4 text-center">
            <h2 class="section-title mb-12">Tentang Saya</h2>
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/3 flex justify-center">
                    <img src="WhatsApp Image 2025-03-11 at 01.26.27 (3).png" alt="Foto Profil" class="w-64 h-64 md:w-72 md:h-72 rounded-full object-cover shadow-lg" />
                </div>
                <div class="md:w-2/3 md:text-left">
                    <p class="text-base md:text-lg text-gray-300 max-w-2xl mx-auto md:mx-0">
                        Saya adalah seorang <strong class="text-text-light">AI Engineer</strong> yang berfokus pada pengembangan solusi
                        <strong class="text-text-light">machine learning</strong> yang <strong class="text-text-light">impactful</strong> dan <strong class="text-text-light">scalable</strong>.
                        Saya memiliki passion untuk menggabungkan teknologi terkini dengan pendekatan
                        <strong class="text-text-light">problem-solving</strong> yang kreatif.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-24 md:py-32 bg-dark-secondary">
        <div class="container mx-auto px-4">
            <h2 class="section-title mb-12 text-center">Proyek</h2>
            <div class="max-w-3xl mx-auto">
                <div id="project-card" class="group relative overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer" onclick="openProjectModal()">
                    <img src="Untitled (28).png" alt="Arum - Barista AI" class="w-full h-80 object-cover transform group-hover:scale-110 transition-all duration-500">
                    <div class="project-card-overlay absolute inset-0">
                        <h3 class="text-2xl mb-2">Arum - Barista AI</h3>
                        <p class="text-base text-gray-300">Asisten virtual untuk pemesanan kopi di kafe.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Detail Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="close-modal">×</button>
            <h2 class="text-2xl md:text-3xl font-bold mb-4">Arum - Barista AI</h2>
            <div class="modal-image-container">
                <div class="half-image-container" id="half-image-container">
                    <img src="rey.wuaze.com__i=1(iPhone 14 Pro Max).png" alt="Arum - Mobile Screenshot">
                </div>
                <p id="see-more-link" class="text-center text-accent cursor-pointer hover:underline">Lihat Selengkapnya</p>
                <div class="full-image-container" id="full-image-container" style="display: none;">
                     <img src="rey.wuaze.com__i=1(iPhone 14 Pro Max).png" alt="Arum - Mobile Screenshot">
                </div>
            </div>
            <p class="text-base md:text-lg text-gray-300 mb-6">
                Arum adalah asisten virtual yang dirancang untuk meningkatkan pengalaman pemesanan di kafe virtual. Dengan integrasi Google Gemini Flash, Arum mampu:
            </p>
            <ul class="list-disc pl-6 mb-6 text-base md:text-lg text-gray-300 space-y-2">
                <li>Memahami bahasa alami pelanggan.</li>
                <li>Memberikan rekomendasi menu yang personal.</li>
                <li>Menangani pertanyaan seputar menu dan kafe.</li>
                <li>Memproses pesanan dengan akurat.</li>
                <li>Berinteraksi dengan ramah dan efisien.</li>
            </ul>
            <p class="text-base md:text-lg text-gray-300 mb-4">
                Proyek ini dibangun menggunakan teknologi berikut:
            </p>
            <div class="flex flex-wrap gap-2 mb-6">
                <span class="px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm">Python</span>
                <span class="px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm">Flask</span>
                <span class="px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm">Google Gemini Flash</span>
            </div>
            <a href="https://aicoffee.pages.dev" target="_blank" class="inline-block text-accent hover:underline text-base md:text-lg">Lihat Demo</a>
        </div>
    </div>

    <!-- Skills Section -->
    <section id="skills" class="py-24 md:py-32">
        <div class="container mx-auto px-4">
            <h2 class="section-title text-center mb-16">Keterampilan</h2>
            <div class="skills-grid">
                <div class="skill-item">Python</div>
                <div class="skill-item">Machine Learning</div>
                <div class="skill-item">Data Analysis</div>
                <div class="skill-item">HTML</div>
                <div class="skill-item">CSS</div>
                <div class="skill-item">JavaScript</div>
            </div>
        </div>
    </section>

    <!-- Certifications Section -->
    <section id="certifications" class="py-24 md:py-32 bg-dark-secondary">
        <div class="container mx-auto px-4">
            <h2 class="section-title text-center mb-12">Sertifikasi</h2>
            <div class="flex justify-center">
                <a href="https://coursera.org/verify/specialization/QG3SZH3EVR8L" target="_blank" rel="noopener noreferrer" class="block shadow-lg hover:shadow-2xl transition-shadow duration-300">
                    <img src="sertifikat.png" alt="Sertifikat Machine Learning" class="w-full max-w-3xl" />
                </a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 md:py-32">
        <div class="container mx-auto px-4">
            <h2 class="section-title text-center mb-12">Kontak</h2>
            <div class="max-w-lg mx-auto">
                <form id="contact-form" class="space-y-8">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-400">Nama</label>
                        <input type="text" id="name" name="name" required class="mt-2 block w-full bg-gray-800 text-text-light border-gray-700" />
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-400">Email</label>
                        <input type="email" id="email" name="email" required class="mt-2 block w-full bg-gray-800 text-text-light border-gray-700" />
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-400">Pesan</label>
                        <textarea id="message" name="message" rows="4" required class="mt-2 block w-full bg-gray-800 text-text-light border-gray-700"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-accent hover:bg-accent-dark text-dark-bg py-3 rounded-md transition-colors" id="submit-btn-contact">
                        Kirim Pesan
                    </button>
                </form>
                <div id="notification"></div>
            </div>
        </div>
    </section>

    <!-- Chat Widget HTML -->
    <div class="chat-toggle" id="chat-toggle">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="7" r="2" fill="#111827" /> <circle cx="7" cy="12" r="2" fill="#111827" /> <circle cx="17" cy="12" r="2" fill="#111827" /> <circle cx="12" cy="17" r="2" fill="#111827" />
            <path d="M12 7 L 7 12 M12 7 L 17 12 M7 12 L 12 17 M17 12 L 12 17" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </div>
    <div class="chat-modal" id="chat-modal">
        <div class="chat-header">
            <span>Asisten AI</span>
            <button id="chat-close">×</button>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="chat-message bot">Halo, selamat datang di portofolio Reykal! Tanyakan apa saja tentang Reykal.</div>
        </div>
        <form id="chat-form" class="chat-footer">
            <input type="text" id="chat-input" class="chat-input" placeholder="Tanyakan sesuatu..." autocomplete="off">
            <button type="submit" class="chat-send" disabled>Kirim</button>
        </form>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container mx-auto px-4 text-center">
            <div class="social-links inline-flex">
                <a href="https://www.linkedin.com/in/reykal-al-hikam-469956286/" target="_blank" class="social-icon"><i class="fa-brands fa-linkedin"></i></a>
                <a href="https://www.instagram.com/reyhkm" target="_blank" class="social-icon"><i class="fa-brands fa-instagram"></i></a>
            </div>
            <p class="mt-4 text-sm text-gray-400">&copy; 2025 Reykal. All rights reserved.</p>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            // Toggle mobile menu
            $('#mobile-menu-btn').click(function () {
                $('#mobile-menu').slideToggle();
            });

            // Smooth scroll for anchor links
            $('a[href*="#"]').on('click', function (e) {
                e.preventDefault();
                var target = $(this).attr('href');
                $('html, body').animate({
                    scrollTop: $(target).offset().top - 70
                }, 600);
                if ($('#mobile-menu').is(':visible')) {
                    $('#mobile-menu').slideUp();
                }
            });

            // Navbar effect on scroll
            $(window).on('scroll', function () {
                if ($(window).scrollTop() > 50) {
                    $('.navbar').addClass('navbar-scrolled');
                } else {
                    $('.navbar').removeClass('navbar-scrolled');
                }
            });

            // Contact Form Submission
            $('#contact-form').on('submit', function (e) {
                e.preventDefault();
                var formData = {
                    name: $('#name').val(),
                    email: $('#email').val(),
                    message: $('#message').val()
                };
                var scriptURL = 'https://script.google.com/macros/s/AKfycbwOnpojIrcb8FSlxQcswDYuRqTQ1qMGfyBZEsL72OCf9Bh23MF0d9Hex4PoF7WRAC_0/exec';
                
                $('#submit-btn-contact').prop('disabled', true).text('Mengirim...');

                fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                })
                .then(() => {
                    showNotification('Pesan berhasil dikirim!', 'success');
                    $('#contact-form')[0].reset();
                })
                .catch((error) => {
                    console.error('Error!', error.message);
                    showNotification('Terjadi kesalahan, pesan tidak terkirim.', 'error');
                })
                .finally(() => {
                    $('#submit-btn-contact').prop('disabled', false).text('Kirim Pesan');
                });
            });

            function showNotification(message, type) {
                const notification = $('#notification');
                notification.css('background-color', type === 'error' ? '#e74c3c' : '#2dd4bf');
                notification.text(message).addClass('show');
                setTimeout(() => notification.removeClass('show'), 3000);
            }

            // --- Chat Widget Script ---
            let isLoading = false;
            $("#chat-toggle").click(() => $("#chat-modal").fadeIn());
            $("#chat-close").click(() => $("#chat-modal").fadeOut());
            $("#chat-input").on("input", function () {
                $(".chat-send").prop("disabled", $(this).val().trim() === "" || isLoading);
            });

            $("#chat-form").submit(function (e) {
                e.preventDefault();
                var message = $("#chat-input").val().trim();
                if (message === "" || isLoading) return;

                isLoading = true;
                $(".chat-send").prop("disabled", true);
                $("#chat-body").append("<div class='chat-message user'>" + message.replace(/\n/g, "<br>") + "</div>");
                $("#chat-input").val("");
                scrollChatToBottom();

                var $botMsg = $("<div class='chat-message bot'><span class='loading'><span>.</span><span>.</span><span>.</span></span></div>");
                $("#chat-body").append($botMsg);
                scrollChatToBottom();

                $.ajax({
                    type: "POST",
                    url: "https://gemininodejsaspri-production.up.railway.app/chat",
                    contentType: "application/json",
                    data: JSON.stringify({ chat: message, history: [] }),
                    xhrFields: { withCredentials: true },
                    success: function (data) {
                        $botMsg.html(data.response.replace(/\n/g, "<br>"));
                    },
                    error: function () {
                        $botMsg.html("Maaf, terjadi kesalahan.");
                    },
                    complete: function() {
                        isLoading = false;
                        $(".chat-send").prop("disabled", $("#chat-input").val().trim() === "");
                        scrollChatToBottom();
                    }
                });
            });

            function scrollChatToBottom() {
                $("#chat-body").scrollTop($("#chat-body")[0].scrollHeight);
            }
        });

        // Modal functionality
        function openProjectModal() {
            document.getElementById("project-modal").style.display = "block";
        }
        document.getElementById("close-modal").addEventListener("click", function () {
            document.getElementById("project-modal").style.display = "none";
        });
        window.addEventListener("click", function (event) {
            var modal = document.getElementById("project-modal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        });

        document.getElementById("see-more-link").addEventListener("click", function() {
            document.getElementById("half-image-container").style.display = "none";
            this.style.display = "none";
            document.getElementById("full-image-container").style.display = "block";
        });
    </script>
</body>

</html>
